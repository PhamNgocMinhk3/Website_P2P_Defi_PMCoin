<!-- B·∫¢NG ƒêI·ªÄU KHI·ªÇN ADMIN GAME PM - Bento Grid Layout -->
<div class="admin-dashboard">
  <!-- Bento Grid Layout -->
  <div class="bento-grid">
    
    <!-- Bot Transactions Realtime - Enhanced UI -->
    <div class="bento-item bot-transactions">
      <div class="card-header">
        <h3 class="card-title">ü§ñ GIAO D·ªäCH BOT REALTIME</h3>
        <div class="transaction-status">
          <div class="live-indicator">
            <span class="pulse-dot"></span>
            <span class="live-text">LIVE</span>
          </div>
          <div class="transaction-count">{{ botTransactions.length }}/6 giao d·ªãch</div>
        </div>
      </div>

      <div class="transactions-container">
        @if (botTransactions.length > 0) {
        <div class="transaction-list">
          @for (transaction of botTransactions; track trackByTransactionId($index, transaction)) {
          <div class="transaction-card" [class]="'transaction-' + transaction.action.toLowerCase()">
            <div class="transaction-header">
              <div class="bot-info">
                <span class="bot-icon">ü§ñ</span>
                <span class="bot-address">{{ formatBotAddress(transaction.botAddress) }}</span>
              </div>
              <div class="action-indicator" [class]="'action-' + transaction.action.toLowerCase()">
                <span class="action-icon">{{ transaction.action === 'BUY' ? 'üìà' : 'üìâ' }}</span>
                <span class="action-text">{{ transaction.action === 'BUY' ? 'MUA' : 'B√ÅN' }}</span>
              </div>
            </div>

            <div class="transaction-details">
              <div class="detail-row">
                <div class="detail-item">
                  <span class="detail-label">S·ªë l∆∞·ª£ng : </span>
                  <span class="detail-value amount">{{ formatAmount(transaction.amount) }} PM</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Gi√° : </span>
                  <span class="detail-value price">${{ transaction.price | number:'1.4-4' }}</span>
                </div>
              </div>
              <div class="transaction-time">
                <span class="time-icon">‚è±Ô∏è</span>
                <span class="time-text">{{ getTimeAgo(transaction.timestamp) }}</span>
              </div>
            </div>
          </div>
          }
        </div>
        } @else {
        <div class="no-transactions">
          <div class="no-data-icon">‚è≥</div>
          <div class="no-data-text">ƒêang ch·ªù giao d·ªãch bot...</div>
          <div class="loading-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
        }
      </div>
    </div>

    <!-- Danh S√°ch ƒêen -->
    <div class="bento-item blacklist-users">
      <div class="card-header">
        <h3 class="card-title">üî¥ DANH S√ÅCH ƒêEN</h3>
        <div class="user-count">{{ blacklistedUsers.length }} ng∆∞·ªùi d√πng</div>
      </div>
      <div class="table-container">
        @if (blacklistedUsers.length > 0) {
        <table class="data-table">
          <thead>
            <tr>
              <th>ƒê·ªãa Ch·ªâ</th>
              <th>Th·∫Øng Li√™n Ti·∫øp</th>
              <th>Tr·∫°ng Th√°i</th>
              <th>H√†nh ƒê·ªông</th>
            </tr>
          </thead>
          <tbody>
            @for (user of blacklistedUsers; track trackByAddress($index, user)) {
            <tr>
              <td>{{ formatAddress(user.address) }}</td>
              <td>{{ user.consecutiveWins }} l·∫ßn th·∫Øng</td>
              <td>
                <span class="status-badge status-force-lose">üî¥ √âp Thua</span>
              </td>
              <td>
                <button class="action-btn secondary" (click)="removeFromBlacklist(user.address)">X√≥a</button>
              </td>
            </tr>
            }
          </tbody>
        </table>
        } @else {
        <div class="no-data">Kh√¥ng c√≥ ng∆∞·ªùi d√πng trong danh s√°ch ƒëen</div>
        }
      </div>
    </div>

    <!-- Danh S√°ch Tr·∫Øng -->
    <div class="bento-item whitelist-users">
      <div class="card-header">
        <h3 class="card-title">üü¢ DANH S√ÅCH TR·∫ÆNG</h3>
        <div class="user-count">{{ whitelistedUsers.length }} ng∆∞·ªùi d√πng</div>
      </div>
      <div class="table-container">
        @if (whitelistedUsers.length > 0) {
        <table class="data-table">
          <thead>
            <tr>
              <th>ƒê·ªãa Ch·ªâ</th>
              <th>Thua Li√™n Ti·∫øp</th>
              <th>Tr·∫°ng Th√°i</th>
              <th>H√†nh ƒê·ªông</th>
            </tr>
          </thead>
          <tbody>
            @for (user of whitelistedUsers; track trackByAddress($index, user)) {
            <tr>
              <td>{{ formatAddress(user.address) }}</td>
              <td>{{ user.consecutiveLoses }} l·∫ßn thua</td>
              <td>
                <span class="status-badge status-force-win">üü¢ √âp Th·∫Øng</span>
              </td>
              <td>
                <button class="action-btn secondary" (click)="removeFromWhitelist(user.address)">X√≥a</button>
              </td>
            </tr>
            }
          </tbody>
        </table>
        } @else {
        <div class="no-data">Kh√¥ng c√≥ ng∆∞·ªùi d√πng trong danh s√°ch tr·∫Øng</div>
        }
      </div>
    </div>

    <!-- Smart Contract Management -->
    <div class="bento-item smart-contract-management">
      <div class="card-header">
        <h3 class="card-title">üîó QU·∫¢N L√ù SMART CONTRACT</h3>
        <div class="config-badge">Blockchain</div>
      </div>
      <div class="smart-contract-section">
        <div class="contract-actions">
          <button class="action-btn contract-btn" (click)="openContractManagement()">
            <span class="btn-icon">üéÆ</span>
            <span class="btn-text">Qu·∫£n L√Ω Game Server</span>
          </button>
          <button class="action-btn contract-btn" (click)="openSystemLogs()">
            <span class="btn-icon">üìù</span>
            <span class="btn-text">Qu·∫£n L√Ω Log</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>